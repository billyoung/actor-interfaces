namespace "wasmcloud:eventstreams"

role Producer {    
    WriteEvent(stream_id: string, values: {string: string}): string
    QueryStream{query: StreamQuery}: [Event]
}

role Consumer {    
    DeliverEvent{event: Event}: bool
}

type Event {
    eventId: string
    streamId: string
    values: {string: string}
}

type StreamQuery {
    streamId: string
    range: TimeRange?
    count: u64
}

type TimeRange {
    minTime: u64
    maxTime: u64
}
